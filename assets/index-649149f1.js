var n=Object.defineProperty;var a=(r,e,t)=>e in r?n(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var h=(r,e,t)=>(a(r,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&c(o)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function c(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();class u{constructor(e){h(this,"ui",{});this.setUI(),this.rules=e||{min:1,max:20,attempts:10},this.resetGame()}get highscore(){return localStorage.getItem("highscore")?+localStorage.getItem("highscore"):0}set highscore(e){localStorage.setItem("highscore",e)}get attempts(){return this.__attempts}set attempts(e){this.__attempts=e,this.ui.currentScore.textContent=this.attempts}setUI(){this.ui.resetBtn=document.querySelector(".interactive__reset-btn"),this.ui.checkBtn=document.querySelector(".interactive__check-btn"),this.ui.userInput=document.querySelector(".interactive__user-input"),this.resetListen(this.ui.resetBtn),this.checkListen(this.ui.checkBtn),this.ui.feedback=document.querySelector(".info__feedback"),this.ui.currentScore=document.querySelector(".info__current-score"),this.ui.highscore=document.querySelector(".info__highscore"),this.ui.numberDisplay=document.querySelector(".number-display"),this.ui.body=document.body}feedback(e){let t="";switch(e){case"win":t="Wow, you're right!! Wanna try again?";break;case"lose":t="Sorry, you lost. Wanna try again?";break;case"low":t="Pick higher!";break;case"high":t="Pick lower!";break;case"start":t="Waiting for your first guess...";break;default:t="There is some error on our side, sorry!"}this.ui.feedback.textContent=t}resetListen(e){e.addEventListener("click",()=>this.resetGame())}checkListen(e){e.addEventListener("click",()=>this.check())}wonGame(){this.feedback("win"),this.ui.body.className="won",this.updateHighscore(),this.ui.numberDisplay.textContent=this.target}lostGame(){this.feedback("lose"),this.ui.body.className="lost",this.ui.numberDisplay.textContent=this.target}resetGame(){this.feedback("start"),this.ui.body.className="",this.target=this.generateNumber(),console.log(this.target),this.attempts=this.rules.attempts,this.refreshHighcore(),this.ui.numberDisplay.textContent="??"}check(){const e=+this.ui.userInput.value;this.attempts<1?this.lostGame():e==this.target?this.wonGame():e<this.target?(this.feedback("low"),this.attempts--):e>this.target&&(this.feedback("high"),this.attempts--)}updateHighscore(){this.attempts>this.highscore&&(this.highscore=this.attempts,this.refreshHighcore())}refreshHighcore(){this.ui.highscore.textContent=this.highscore}generateNumber(){return Math.floor(Math.random()*(this.rules.max-this.rules.min+1)+this.rules.min-1)+1}}new u;
